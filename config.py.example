# =============================================================================
# CONFIGURATION POUR L'APPLICATION STREAMLIT
# =============================================================================
# 
# INSTRUCTIONS:
# 1. Copier ce fichier vers config.py
# 2. Remplir les valeurs avec vos informations
# 3. NE JAMAIS commiter config.py (d√©j√† dans .gitignore)
#
# =============================================================================

# --------------------
# BASE DE DONN√âES MYSQL
# --------------------

MYSQL_CONFIG = {
    'host': 'votre-serveur-mysql',
    'user': 'votre_utilisateur',
    'password': 'votre_mot_de_passe',
    'database': 'nom_base_donnees',
    'charset': 'utf8mb4',
    'port': 3306
}

# --------------------
# CONFIGURATION IMFR
# --------------------

IMFR_CONFIG = {
    "url": "https://votre-imfr.fr",
    "username": "votre_login_imfr",
    "password": "votre_mot_de_passe_imfr",
    "login_selector": "login",
    "password_selector": "pwd",
    "wait_time": 3,
    "print_icon_selector": "i.fas.fa-print",
    "pdf_excel_link_selector": "a[href*='imfr_module_publispostage_et_excel.php']",
}

# Alias pour compatibilit√©
SCRAPING_CONFIG = IMFR_CONFIG

# --------------------
# SERVEUR SAMBA
# --------------------

SAMBA_SERVER = "ip-serveur-samba"
SAMBA_USER = "utilisateur_ssh"
SAMBA_PWD = "mot_de_passe_ssh"

# --------------------
# MICROSOFT ENTRA ID / AZURE AD
# --------------------

CLIENT_ID = "votre-client-id-azure"
CLIENT_SECRET = "votre-client-secret"
TENANT_ID = "votre-tenant-id"

# Groupes de licences Microsoft 365
LICENSE_GROUP_STUDENTS = "Nom du groupe √©tudiants"
LICENSE_GROUP_STUDENTS_ID = "id-groupe-etudiants"
LICENSE_GROUP_TEACHERS = "Nom du groupe enseignants"
LICENSE_GROUP_OFFICE = "Nom du groupe Office"

# --------------------
# AUTHENTIFICATION
# --------------------

USER_ROLES = {
    "formateur": {
        "password": None,
        "display_name": "Formateur",
        "url_path": "/formateur",
        "icon": "üë®‚Äçüè´"
    },
    "secretariat": {
        "password": None,
        "display_name": "Secr√©tariat",
        "url_path": "/secretariat",
        "icon": "üë©‚Äçüíº"
    },
    "admin": {
        "password": "votre_mot_de_passe_admin",
        "display_name": "Administrateur",
        "url_path": "/admin",
        "icon": "üë®‚Äçüíª"
    }
}

# --------------------
# APPLICATIONS
# --------------------

APPLICATIONS_CONFIG = {
    "sync_ad_samba": {
        "display_name": "Gestion utilisateurs",
        "module": "sync_ad_samba",
        "category": "üë• Gestion Utilisateurs",
        "icon": "üë•",
        "permissions": ["admin"],
        "description": "Cr√©ation et synchronisation des comptes utilisateurs"
    },
    "recuperation_eleves": {
        "display_name": "R√©cup√©ration Liste √âl√®ves",
        "module": "recuperation_eleves",
        "category": "üë• √âl√®ves",
        "icon": "üï∑Ô∏è",
        "permissions": ["admin"],
        "description": "R√©cup√©ration automatique des listes d'√©l√®ves via web scraping"
    },
    # Ajouter vos autres applications ici...
}

# --------------------
# MESSAGES D'AIDE
# --------------------

HELP_MESSAGES = {
    'class_mapping': 'üí° Les noms de classes sont automatiquement normalis√©s',
    'password_generation': 'üîê Les mots de passe sont g√©n√©r√©s automatiquement',
}

# --------------------
# DIVERS
# --------------------

APP_TITLE = "CFA - Gestion Utilisateurs"
APP_ICON = "üë•"

# Fonctions utilitaires
def get_apps_for_role(role):
    """Retourne la liste des applications accessibles pour un r√¥le donn√©"""
    return [app_id for app_id, config in APPLICATIONS_CONFIG.items() 
            if role in config["permissions"]]

def get_app_config(app_id):
    """Retourne la configuration d'une application"""
    return APPLICATIONS_CONFIG.get(app_id, None)

def get_ignored_users():
    """Liste des comptes syst√®me √† ignorer"""
    return [
        'Administrator', 'Guest', 'krbtgt', 'root',
        'admin', 'backup', 'nobody', 'sync'
    ]
